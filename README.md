# ğŸ¥ Smart Vitamin Dispenser

> IoT ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ë¹„íƒ€ë¯¼ ë””ìŠ¤íœì„œ - ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ì›ê²© ì œì–´ ì‹œìŠ¤í…œ

**INU Maker Project 2025 | InuTeam04**

![Next.js](https://img.shields.io/badge/Next.js-16.0-black?style=flat-square&logo=next.js)
![React](https://img.shields.io/badge/React-19.2-61DAFB?style=flat-square&logo=react)
![Firebase](https://img.shields.io/badge/Firebase-12.6-FFCA28?style=flat-square&logo=firebase)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-3178C6?style=flat-square&logo=typescript)
![TailwindCSS](https://img.shields.io/badge/TailwindCSS-4.0-06B6D4?style=flat-square&logo=tailwindcss)

---

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**Smart Vitamin Dispenser**ëŠ” Arduino, ESP32, Firebaseë¥¼ í™œìš©í•œ IoT ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ë¹„íƒ€ë¯¼ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ì›¹ ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ ë¹„íƒ€ë¯¼ ë³´ê´€ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ , ì›ê²©ìœ¼ë¡œ ë¹„íƒ€ë¯¼ ë°°ì¶œì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ëª©í‘œ

- ë¹„íƒ€ë¯¼ ë³µìš© ê´€ë¦¬ ìë™í™” ë° í¸ì˜ì„± í–¥ìƒ
- IoT ì„¼ì„œë¥¼ í†µí•œ ìµœì ì˜ ë³´ê´€ í™˜ê²½ ìœ ì§€
- ì‚¬ìš©ì ë§ì¶¤í˜• ì˜ì–‘ ë¶„ì„ ë° ì„­ì·¨ ê¶Œì¥

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. ğŸ“Š ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ (Dashboard)

- **ì•½í†µ ìƒíƒœ ëª¨ë‹ˆí„°ë§**: 3ê°œì˜ ì•½í†µë³„ ë‚¨ì€ ì•Œì•½ ê°œìˆ˜ ì‹¤ì‹œê°„ í‘œì‹œ
- **ì˜¨ìŠµë„ ì„¼ì„œ ë°ì´í„°**: DHT11/BME280 ì„¼ì„œë¥¼ í†µí•œ ê° ì•½í†µì˜ ì˜¨ë„/ìŠµë„ ëª¨ë‹ˆí„°ë§
- **ë°°ì¶œ ì œì–´**: ì›¹ì—ì„œ ì›í´ë¦­ìœ¼ë¡œ ì›í•˜ëŠ” ê°œìˆ˜ë§Œí¼ ë¹„íƒ€ë¯¼ ë°°ì¶œ
- **ë¦¬í•„ ê¸°ëŠ¥**: ì•½í†µ ë³´ì¶© ì‹œ ê°œìˆ˜ ì—…ë°ì´íŠ¸
- **ì—°ê²° ìƒíƒœ í‘œì‹œ**: ESP32 ë””ë°”ì´ìŠ¤ì™€ì˜ ì—°ê²° ìƒíƒœ ì‹¤ì‹œê°„ í™•ì¸
- **í™œë™ ë¡œê·¸**: ë°°ì¶œ, ì˜¨ë„ ê²½ê³ , íŒ¬ ì‘ë™ ë“± ì‹œìŠ¤í…œ ì´ë²¤íŠ¸ ê¸°ë¡

### 2. ğŸ ì˜ì–‘ ë¶„ì„ (Analyse)

- **ìŒì‹ ê²€ìƒ‰ ë° ì„ íƒ**: CSV ê¸°ë°˜ ìŒì‹ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì„­ì·¨ ìŒì‹ ê²€ìƒ‰
- **ì˜ì–‘ì†Œ ì„­ì·¨ëŸ‰ ê³„ì‚°**: íƒ„ìˆ˜í™”ë¬¼, ë‹¨ë°±ì§ˆ, ì§€ë°©, ì¹¼ë¡œë¦¬ ìë™ ê³„ì‚°
- **ê¶Œì¥ ì„­ì·¨ëŸ‰ ë¹„êµ**: ì‚¬ìš©ì í”„ë¡œí•„ ê¸°ë°˜ RDA(ì¼ì¼ ê¶Œì¥ ì„­ì·¨ëŸ‰) ëŒ€ë¹„ ë¶„ì„
- **ì§€ë³‘ ê¸°ë°˜ ì˜ì–‘ ê¶Œì¥**: CSV ê¸°ë°˜ ì§ˆë³‘-ì˜ì–‘ì†Œ ê·œì¹™ì— ë”°ë¥¸ ë§ì¶¤ ê¶Œì¥
- **ì•Œì•½ ì¶”ì²œ**: ë¶€ì¡±í•œ ì˜ì–‘ì†Œì— ë”°ë¥¸ ë¹„íƒ€ë¯¼ ì„­ì·¨ ê¶Œì¥
- **ë°ì´í„° ì‹œê°í™”**: Rechartsë¥¼ í™œìš©í•œ ì˜ì–‘ì†Œ ì°¨íŠ¸

### 3. ğŸ’Š ì•½ ì •ë³´ ê´€ë¦¬ (Pills)

- **ì•½í†µë³„ ë¹„íƒ€ë¯¼ ì„¤ì •**: ê° Bottleì— ì–´ë–¤ ë¹„íƒ€ë¯¼ì´ ë“¤ì–´ìˆëŠ”ì§€ ì„¤ì •
- **í”„ë¦¬ì…‹ ì˜µì…˜**: ì¢…í•©ë¹„íƒ€ë¯¼, ë¹„íƒ€ë¯¼ D, ì˜¤ë©”ê°€3, ìœ ì‚°ê·  ë“± ë¯¸ë¦¬ ì •ì˜ëœ ì˜µì…˜
- **ë‚¨ì€ ê°œìˆ˜ í‘œì‹œ**: ê° ì•½í†µë³„ í˜„ì¬ ë‚¨ì€ ì•Œì•½ ê°œìˆ˜ í™•ì¸
- **ë¦¬í•„ ê´€ë¦¬**: ì•½í†µ ë³´ì¶© ê¸°ëŠ¥

### 4. ğŸ‘¤ í”„ë¡œí•„ ê´€ë¦¬ (Profile)

- **ì‚¬ìš©ì ì •ë³´ ì…ë ¥**: ë‚˜ì´, ì„±ë³„, í‚¤, ì²´ì¤‘, í™œë™ ìˆ˜ì¤€
- **ì§€ë³‘ ì„ íƒ**: ì¹´í…Œê³ ë¦¬ë³„ ì§€ë³‘ ì„ íƒ (ë‹¹ë‡¨, ê³ í˜ˆì••, ë¹ˆí˜ˆ ë“±)
- **ë§ì¶¤í˜• ì˜ì–‘ ë¶„ì„**: ì…ë ¥ëœ í”„ë¡œí•„ ê¸°ë°˜ ê°œì¸í™”ëœ ê¶Œì¥ëŸ‰ ê³„ì‚°

### 5. ğŸ” ì¸ì¦ ì‹œìŠ¤í…œ (Authentication)

- **Google OAuth ë¡œê·¸ì¸**: Firebase Authentication ê¸°ë°˜
- **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¸ì¦**: í—ˆìš©ëœ ì´ë©”ì¼ ì£¼ì†Œë§Œ ì ‘ê·¼ ê°€ëŠ¥
- **ì„¸ì…˜ ê´€ë¦¬**: ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ ë° ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸

### 6. ğŸŒ ë‹¤êµ­ì–´ ì§€ì› (i18n)

- **í•œêµ­ì–´/ì˜ì–´**: ì „ì²´ UI ë‹¤êµ­ì–´ ì§€ì›
- **ì‹¤ì‹œê°„ ì–¸ì–´ ì „í™˜**: ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ ì¦‰ì‹œ ì–¸ì–´ ë³€ê²½

### 7. ğŸŒ™ ë‹¤í¬ ëª¨ë“œ

- **ì‹œìŠ¤í…œ í…Œë§ˆ ì—°ë™**: OS ì„¤ì •ì— ë”°ë¥¸ ìë™ í…Œë§ˆ ì ìš©
- **ìˆ˜ë™ í† ê¸€**: ì‚¬ìš©ìê°€ ì§ì ‘ í…Œë§ˆ ë³€ê²½ ê°€ëŠ¥
- **ë¡œì»¬ ì €ì¥**: ì„ íƒí•œ í…Œë§ˆ ì„¤ì • ìœ ì§€

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend

| ê¸°ìˆ                 | ë²„ì „  | ìš©ë„                          |
| ------------------- | ----- | ----------------------------- |
| **Next.js**         | 16.0  | React í”„ë ˆì„ì›Œí¬ (App Router) |
| **React**           | 19.2  | UI ë¼ì´ë¸ŒëŸ¬ë¦¬                 |
| **TypeScript**      | 5.x   | íƒ€ì… ì•ˆì •ì„±                   |
| **Tailwind CSS**    | 4.0   | ìœ í‹¸ë¦¬í‹° ê¸°ë°˜ ìŠ¤íƒ€ì¼ë§        |
| **Recharts**        | 3.5   | ë°ì´í„° ì‹œê°í™” ì°¨íŠ¸            |
| **Lucide React**    | 0.554 | ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬             |
| **react-hot-toast** | 2.6   | í† ìŠ¤íŠ¸ ì•Œë¦¼                   |

### Backend & Database

| ê¸°ìˆ                            | ë²„ì „ | ìš©ë„                 |
| ------------------------------ | ---- | -------------------- |
| **Firebase Realtime Database** | 12.6 | ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™” |
| **Firebase Authentication**    | 12.6 | Google OAuth ì¸ì¦    |

### Hardware (IoT)

| ê¸°ìˆ                   | ìš©ë„                        |
| --------------------- | --------------------------- |
| **ESP32**             | Wi-Fi í†µì‹  ë° ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ |
| **Arduino**           | ì„¼ì„œ ë° ëª¨í„° ì œì–´           |
| **DHT11/BME280**      | ì˜¨ìŠµë„ ì„¼ì„œ                 |
| **Photo Interrupter** | ì•Œì•½ ì¹´ìš´íŒ… ì„¼ì„œ            |
| **IR Proximity**      | ê·¼ì ‘ ê°ì§€ ì„¼ì„œ              |
| **ì„œë³´ ëª¨í„°**         | ì•Œì•½ ë°°ì¶œ ë©”ì»¤ë‹ˆì¦˜          |
| **ì¿¨ë§ íŒ¬**           | ì˜¨ë„ ì¡°ì ˆ                   |

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
vitamin-dispenser/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx                  # ëœë”© í˜ì´ì§€
â”‚   â”œâ”€â”€ layout.tsx                # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ globals.css               # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ analyse/                  # ì˜ì–‘ ë¶„ì„ í˜ì´ì§€
â”‚   â”œâ”€â”€ dashboard/                # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ login/                    # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ pills/                    # ì•½ ì •ë³´ ê´€ë¦¬
â”‚   â””â”€â”€ profile/                  # í”„ë¡œí•„ ì„¤ì •
â”œâ”€â”€ components/                   # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ActivityLog.tsx           # í™œë™ ë¡œê·¸
â”‚   â”œâ”€â”€ BottleCard.tsx            # ì•½í†µ ì¹´ë“œ
â”‚   â”œâ”€â”€ ErrorBoundary.tsx         # ì—ëŸ¬ ê²½ê³„
â”‚   â”œâ”€â”€ HamburgerMenu.tsx         # ëª¨ë°”ì¼ ë©”ë‰´
â”‚   â”œâ”€â”€ SensorCard.tsx            # ì„¼ì„œ ë°ì´í„° ì¹´ë“œ
â”‚   â”œâ”€â”€ StatusIndicators.tsx      # ìƒíƒœ í‘œì‹œê¸°
â”‚   â”œâ”€â”€ TemperatureChart.tsx      # ì˜¨ë„ ì°¨íŠ¸
â”‚   â”œâ”€â”€ ThemeToggle.tsx           # ë‹¤í¬ëª¨ë“œ í† ê¸€
â”‚   â”œâ”€â”€ ToastProvider.tsx         # í† ìŠ¤íŠ¸ í”„ë¡œë°”ì´ë”
â”‚   â”œâ”€â”€ UserMenu.tsx              # ì‚¬ìš©ì ë©”ë‰´
â”‚   â”œâ”€â”€ withAuth.tsx              # ì¸ì¦ HOC
â”‚   â””â”€â”€ ui/                       # UI ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸
â”‚       â””â”€â”€ ProgressBar.tsx       # í”„ë¡œê·¸ë ˆìŠ¤ ë°”
â”œâ”€â”€ lib/                          # ìœ í‹¸ë¦¬í‹° & í›…
â”‚   â”œâ”€â”€ firebase.ts               # Firebase ì„¤ì •
â”‚   â”œâ”€â”€ types.ts                  # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ i18n.ts                   # ë‹¤êµ­ì–´ ë²ˆì—­
â”‚   â”œâ”€â”€ foodData.ts               # ìŒì‹ ë°ì´í„° ì²˜ë¦¬
â”‚   â”œâ”€â”€ diseaseRules.ts           # ì§ˆë³‘-ì˜ì–‘ì†Œ ê·œì¹™
â”‚   â”œâ”€â”€ servingData.ts            # ì„­ì·¨ëŸ‰ ë°ì´í„°
â”‚   â”œâ”€â”€ pillPresets.ts            # ì•Œì•½ í”„ë¦¬ì…‹
â”‚   â”œâ”€â”€ utils.ts                  # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ hooks/                    # Custom React Hooks
â”‚       â”œâ”€â”€ useAuth.ts            # ì¸ì¦ í›…
â”‚       â”œâ”€â”€ useRealtimeData.ts    # ì‹¤ì‹œê°„ ë°ì´í„° í›…
â”‚       â”œâ”€â”€ useDeviceControl.ts   # ë””ë°”ì´ìŠ¤ ì œì–´ í›…
â”‚       â””â”€â”€ useActivityLogs.ts    # í™œë™ ë¡œê·¸ í›…
â”œâ”€â”€ public/                       # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ disease_rules.csv         # ì§ˆë³‘-ì˜ì–‘ì†Œ ê·œì¹™ ë°ì´í„°
â”‚   â”œâ”€â”€ food_nutrition_grouped.csv # ìŒì‹ ì˜ì–‘ì†Œ ë°ì´í„°
â”‚   â””â”€â”€ serving_default.csv       # ê¸°ë³¸ ì„­ì·¨ëŸ‰ ë°ì´í„°
â””â”€â”€ package.json
```

---

## ğŸ”¥ Firebase ë°ì´í„° êµ¬ì¡°

```
vitamin-dispenser/
â”œâ”€â”€ sensors/                      # ì„¼ì„œ ë°ì´í„° (ESP32 â†’ Web)
â”‚   â”œâ”€â”€ bottle1Count: number      # ì•½í†µ 1 ì•Œì•½ ê°œìˆ˜
â”‚   â”œâ”€â”€ bottle2Count: number      # ì•½í†µ 2 ì•Œì•½ ê°œìˆ˜
â”‚   â”œâ”€â”€ bottle3Count: number      # ì•½í†µ 3 ì•Œì•½ ê°œìˆ˜
â”‚   â”œâ”€â”€ dht1: { temperature, humidity }
â”‚   â”œâ”€â”€ dht2: { temperature, humidity }
â”‚   â”œâ”€â”€ dht3: { temperature, humidity }
â”‚   â”œâ”€â”€ lastDispensed: timestamp
â”‚   â”œâ”€â”€ isDispensing: boolean
â”‚   â”œâ”€â”€ fanStatus: boolean
â”‚   â””â”€â”€ timestamp: number
â”œâ”€â”€ control/                      # ì œì–´ ëª…ë ¹ (Web â†’ ESP32)
â”‚   â””â”€â”€ dispense/
â”‚       â””â”€â”€ bottle{1,2,3}/
â”‚           â”œâ”€â”€ count: number
â”‚           â”œâ”€â”€ status: "pending" | "completed"
â”‚           â””â”€â”€ requestedAt: timestamp
â”œâ”€â”€ users/                        # ì‚¬ìš©ì ë°ì´í„°
â”‚   â””â”€â”€ {uid}/
â”‚       â”œâ”€â”€ pillConfig/           # ì•½í†µ ì„¤ì •
â”‚       â””â”€â”€ profile/              # í”„ë¡œí•„ ì •ë³´
â””â”€â”€ logs/                         # í™œë™ ë¡œê·¸
    â””â”€â”€ {logId}/
        â”œâ”€â”€ type: ActivityEventType
        â”œâ”€â”€ message: string
        â””â”€â”€ timestamp: number
```

---

## ğŸ”§ ì£¼ìš” Custom Hooks

### `useRealtimeData<T>(path, initialValue)`

Firebase Realtime Databaseì˜ íŠ¹ì • ê²½ë¡œë¥¼ êµ¬ë…í•˜ì—¬ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

```typescript
const { data, loading, error, retry } = useRealtimeData<SensorData>(
  "sensors",
  defaultSensorData
);
```

### `useDeviceControl()`

ESP32 ë””ë°”ì´ìŠ¤ ì œì–´ í•¨ìˆ˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

```typescript
const { dispense, refillBottle, isExecuting } = useDeviceControl();
await dispense(1, 2); // ì•½í†µ 1ì—ì„œ 2ê°œ ë°°ì¶œ
```

### `useAuth()`

Firebase Google ì¸ì¦ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

```typescript
const { user, loading, loginWithGoogle, logout } = useAuth();
```

---

## ğŸ“Š ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     Firebase      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ESP32     â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚   Web App   â”‚
â”‚  + Sensors  â”‚   Realtime DB     â”‚  (Next.js)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                  â”‚
      â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DHT11/BME280â”‚                   â”‚  Dashboard  â”‚
â”‚ Photo Sensorâ”‚                   â”‚  ì˜ì–‘ë¶„ì„   â”‚
â”‚ Servo Motor â”‚                   â”‚  í”„ë¡œí•„     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
